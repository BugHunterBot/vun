<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- saved from url=(0029)http://www.helpandmanual.com/ -->
<head>
   <title>Advanced Features &gt; Lua Language</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="Lua Language">
   <meta name="description" content="Lua Language ">
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

   <!-- This line forces IE8 into IE7 mode, safer until IE8 is better known -->
   <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

   <link type="text/css" href="default.css" rel="stylesheet">
   <link type="text/css" href="custom.css" rel="stylesheet">
   <script type="text/javascript" src="nsh.js"></script>

<script type="text/javascript">   
// Toggle Toggler 

var toggleCount=false;
var switchState;

function toggleToggles() {

    if (!toggleCount) {
     toggleCount = true;
     HMToggleExpandAll(true);
     switchState = true;
     }
   
     else if (switchState) {
        HMToggleExpandAll(false);
        switchState = false;
        }
        
     else  {
        HMToggleExpandAll(true);
        switchState = true;
        } 
    }
</script>
   
<!-- non-scrolling headers for CHM and browser-based help, local styles-->
<style TYPE="text/css" media="screen"> 
   body {    
      margin:0; 
      padding:0; 
      overflow: auto; 
      background: #FFFFFF; 
   } 
   #idheader { 
      width:100%; 
      height:auto; 
      padding: 0; 
      margin: 0; 
} 
    #idheaderbg  {
    background: #6F6F6F; 
}

   #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
   #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
   #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
   #callout-table a {text-decoration: none; color: blue;}
   #callout-table a:visited {text-decoration: none; color: blue;}
   #overview-table a {text-decoration: none; color: black;}
   #overview-table a:visited {text-decoration: none; color: black;}
   #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}
   </style>
   
<style TYPE="text/css" MEDIA="print">
<!--
/* Hide navigation links and add space between header
     and text in the printed version. Not valid for eBooks. */
#idnav { display:none;	 }
.topichead { padding: 5px 5px 20px 5px; }
-->
</style>   
<script type="text/javascript" src="helpman_topicinit.js"></script>
<!-- Redirect browser to frame page if page is not in the content frame. -->
<script type="text/javascript">
<!--
if (location.search.lastIndexOf("toc=0")<=0) {
  if (parent.frames.length==0) { parent.location.href="index.html?lua_language.htm"; }
  else { parent.quicksync('a6.1'); }
}
//-->
</script>
<script type="text/javascript" src="highlight.js"></script></head>
<body onload="highlight();">
<div id="hmpopupDiv" style="visibility:hidden; position:absolute; z-index:1000; "></div>
<!--ZOOMSTOP-->

<div id="idheader">
<div id="idheaderbg">
<table width="100%" border="0" cellspacing="0" cellpadding="0" 
       style="margin: 0px; background: url(header_bg.jpg);">

  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
   
   Advanced Features&nbsp;&gt;</p>
   <p class="p_Heading1"><span class="f_Heading1">Lua Language </span></p>

    </td>
    <td align="right" width="120" valign="middle" class="topichead" id="idnav">
    
     <a href="domain_event_manager.htm"
        onmouseover="document.images.prev.src='btn_prev_h.gif'" 
        onmouseout="document.images.prev.src='btn_prev_n.gif'"
        ><img name=prev src="btn_prev_n.gif" border=0 alt="Previous page"
        ></a><a href="uoeoeia.htm"
        onmouseover="document.images.main.src='btn_home_h.gif'" 
        onmouseout="document.images.main.src='btn_home_n.gif'"><img name=main src="btn_home_n.gif" border=0 alt="Return to chapter overview"
        ></a><a href="server_variables.htm"
        onmouseover="document.images.next.src='btn_next_h.gif'" 
        onmouseout="document.images.next.src='btn_next_n.gif'"><img name=next src="btn_next_n.gif" border=0 alt="Next page"
        ></a>
    </td>
  </tr>
  <tr><td colspan="2" style="height: 3px; background: url(header_bg_shadow.gif)"></td></tr>
</table>
</div>

<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
  

</div>  



<div id="idcontent"><div id="innerdiv"> 
<!--ZOOMRESTART-->
<p><span style="font-size: 16pt; font-weight: bold;">About Lua</span></p>
<p>&nbsp;</p>
<p><a href="http://www.lua.org/" target="_blank" class="weblink">Lua</a> is a powerful, fast, lightweight, embeddable scripting language. Lua combines simple procedural syntax with powerful data description constructs based on associative arrays and extensible semantics. Lua is dynamically typed, runs by interpreting bytecode for a register-based virtual machine, and has automatic memory management with incremental garbage collection, making it ideal for configuration, scripting, and rapid prototyping.</p>
<p>&nbsp;</p>
<p>Wing FTP Server includes supporting for Lua scripting. And Lua scripts can be used in several cases, such as Task Scheduler, Event Manager, and Administration Console. It will help you to complete a complex task or a custom event, or just a simple console command.</p>
<p>&nbsp;</p>
<p>You can write Lua scripts simply by using standard Lua libraries or <a href="server_lua_api.htm">Wing FTP Server's Lua API</a>. For example, if you want to add a user account, you can call the API <span style="font-weight: bold;">c_AddUser(...)</span> to handle it, and if you want to delete the user account, just call <span style="font-weight: bold;">c_DeleteUser(...)</span>. It is simple yet powerful.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Simple example</span> (a daily task scheduler for removing inactive users in domain "domain1" who have not logged in within 15 days)</p>
<p class="p_CodeExample"><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">do</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;local&nbsp;strUserlist&nbsp;=&nbsp;c_GetUserList("domain1")&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;local&nbsp;userlist&nbsp;=&nbsp;Split(strUserlist,"\n")&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">for</span><span class="f_CodeExample" style="color: #000000;">&nbsp;_,username&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">in</span><span class="f_CodeExample" style="color: #000000;">&nbsp;pairs(userlist)&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">do</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local&nbsp;user&nbsp;=&nbsp;c_GetUser("domain1",username)</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local&nbsp;logintime&nbsp;=&nbsp;user.last_logintime</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local&nbsp;logintime_t&nbsp;=&nbsp;c_TranslateTime(logintime)</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">if</span><span class="f_CodeExample" style="color: #000000;">&nbsp;(os.time()&nbsp;-&nbsp;logintime_t)&nbsp;&gt;=&nbsp;</span><span class="f_CodeExample" style="color: #800080;">3600</span><span class="f_CodeExample" style="color: #000000;">*</span><span class="f_CodeExample" style="color: #800080;">24</span><span class="f_CodeExample" style="color: #000000;">*</span><span class="f_CodeExample" style="color: #800080;">15</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">then</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_DeleteUser("domain1",username)</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">end</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">end</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">end</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 16pt; font-weight: bold;">RESTful Web Service</span></p>
<p>&nbsp;</p>
<p>Wing FTP Server also provides a <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer" target="_blank" class="weblink" style="font-size: 10pt; font-family: 'Arial'; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">RESTful</a> web service for administration, and you can call it to execute lua scripts in any programming language.</p>
<p>&nbsp;</p>
<p>The RESTful web service URL may look like this: <span style="font-weight: bold;">http://127.0.0.1:5466/admin_webservice.html?admin=AdminUser&amp;pass=AdminPass&amp;cmd=print('hello,world')</span></p>
<p>There are three URL parameters in the above URL, the 1st parameter "admin" means the administrator's username, the 2nd parameter "pass" means the administrator's password, and the 3rd parameter "cmd" means the lua scripts (with URL encoded).</p>
<p>&nbsp;</p>
<p>For the web service safety, we suggest you use a separated system admin with IP access rules (For example, if 3rd party website has a fixed IP address "1.2.3.4", you can add a IP access rule "Allow 1.2.3.4" under "Add/Edit Admin -&gt; IP access"). </p>
<p>Using HTTPS address is also highly recommended when calling the web service, it can mostly avoid data sniffing over the network.</p>
<p>&nbsp;</p>
<p>Here is a simple example for calling the web service by the 3rd party website/program, it is used to calculate the number of all the domains' online sessions.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">PHP example:</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #008080;">$strUrl</span><span class="f_CodeExample" style="color: #000000;">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"https://192.168.31.123:5466/admin_webservice.html"</span><span class="f_CodeExample" style="color: #000000;">;&nbsp;</span><br>
<span class="f_CodeExample" style="color: #008080;">$strUrlParam</span><span class="f_CodeExample" style="color: #000000;">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"?admin=AdminUser&amp;pass=AdminPass&amp;cmd="</span><span class="f_CodeExample" style="color: #000000;">;&nbsp;</span><br>
<span class="f_CodeExample" style="color: #008080;">$strLuaScript</span><span class="f_CodeExample" style="color: #000000;">&nbsp;=&nbsp;&lt;&lt;&lt;EOT&nbsp;</span><br>
<span style="font-size: 8pt; font-family: 'Courier New';">&nbsp;&nbsp;&nbsp;&nbsp;local&nbsp;nSessionCnt&nbsp;=&nbsp;0&nbsp;</span><br>
<span style="font-size: 8pt; font-family: 'Courier New';">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size: 8pt; font-family: 'Courier New'; font-weight: bold;">for</span><span style="font-size: 8pt; font-family: 'Courier New';">&nbsp;_,domain&nbsp;in&nbsp;pairs(c_GetDomainList())&nbsp;</span><span style="font-size: 8pt; font-family: 'Courier New'; font-weight: bold;">do</span><span style="font-size: 8pt; font-family: 'Courier New';">&nbsp;</span><br>
<span style="font-size: 8pt; font-family: 'Courier New';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nSessionCnt&nbsp;=&nbsp;nSessionCnt&nbsp;+&nbsp;c_GetSessionCount(domain)&nbsp;</span><br>
<span style="font-size: 8pt; font-family: 'Courier New';">&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;</span><br>
<span style="font-size: 8pt; font-family: 'Courier New';">&nbsp;&nbsp;&nbsp;&nbsp;print(nSessionCnt)&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">EOT;&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #008080;">$strResult</span><span class="f_CodeExample" style="color: #000000;">&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">file_get_contents</span><span class="f_CodeExample" style="color: #000000;">(</span><span class="f_CodeExample" style="color: #008080;">$strUrl</span><span class="f_CodeExample" style="color: #ff0000;">.</span><span class="f_CodeExample" style="color: #008080;">$strUrlParam</span><span class="f_CodeExample" style="color: #ff0000;">.</span><span class="f_CodeExample" style="color: #0000ff;">rawurlencode</span><span class="f_CodeExample" style="color: #000000;">(</span><span class="f_CodeExample" style="color: #008080;">$strLuaScript</span><span class="f_CodeExample" style="color: #000000;">));</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">VB script/ASP example:</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Set</span><span class="f_CodeExample" style="color: #000000;">&nbsp;xmlHttp&nbsp;=&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">CreateObject</span><span class="f_CodeExample" style="color: #000000;">(</span><span class="f_CodeExample" style="color: #800080;">"MSXML2.ServerXMLHTTP"</span><span class="f_CodeExample" style="color: #000000;">)&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">strUrl&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"https://192.168.31.123:5466/admin_webservice.html"</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">strUrlParam&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"?admin=AdminUser&amp;pass=AdminPass&amp;cmd="</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">strLuaScript&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"local&nbsp;nSessionCnt&nbsp;=&nbsp;0&nbsp;"</span><span class="f_CodeExample" style="color: #000000;">_&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;</span><span class="f_CodeExample" style="color: #800080;">"for&nbsp;_,domain&nbsp;in&nbsp;pairs(c_GetDomainList())&nbsp;do&nbsp;"</span><span class="f_CodeExample" style="color: #000000;">_&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;</span><span class="f_CodeExample" style="color: #800080;">"&nbsp;nSessionCnt&nbsp;=&nbsp;nSessionCnt&nbsp;+&nbsp;c_GetSessionCount(domain)&nbsp;"</span><span class="f_CodeExample" style="color: #000000;">_&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;</span><span class="f_CodeExample" style="color: #800080;">"end&nbsp;"</span><span class="f_CodeExample" style="color: #000000;">_&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;</span><span class="f_CodeExample" style="color: #800080;">"print(nSessionCnt)"</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">xmlHttp.</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">open</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"GET"</span><span class="f_CodeExample" style="color: #000000;">,&nbsp;strUrl&amp;strUrlParam&amp;URLEncode(strLuaScript),&nbsp;False&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">xmlHttp.send&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">strResult&nbsp;=&nbsp;xmlHttp.responseText</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Function</span><span class="f_CodeExample" style="color: #000000;">&nbsp;URLEncode(strInput)&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">For</span><span class="f_CodeExample" style="color: #000000;">&nbsp;i&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #800080;">1</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">To</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Len</span><span class="f_CodeExample" style="color: #000000;">(strInput)&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intAscii&nbsp;=&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Asc</span><span class="f_CodeExample" style="color: #000000;">(</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Mid</span><span class="f_CodeExample" style="color: #000000;">(strInput,&nbsp;i,&nbsp;</span><span class="f_CodeExample" style="color: #800080;">1</span><span class="f_CodeExample" style="color: #000000;">))&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">If</span><span class="f_CodeExample" style="color: #000000;">&nbsp;((intAscii&nbsp;&lt;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">58</span><span class="f_CodeExample" style="color: #000000;">)&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">And</span><span class="f_CodeExample" style="color: #000000;">&nbsp;(intAscii&nbsp;&gt;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">47</span><span class="f_CodeExample" style="color: #000000;">))&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Or</span><span class="f_CodeExample" style="color: #000000;">&nbsp;((intAscii&nbsp;&lt;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">91</span><span class="f_CodeExample" style="color: #000000;">)&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">And</span><span class="f_CodeExample" style="color: #000000;">&nbsp;(intAscii&nbsp;&gt;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">64</span><span class="f_CodeExample" style="color: #000000;">))&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Or</span><span class="f_CodeExample" style="color: #000000;">&nbsp;((intAscii&nbsp;&lt;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">123</span><span class="f_CodeExample" style="color: #000000;">)&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">And</span><span class="f_CodeExample" style="color: #000000;">&nbsp;(intAscii&nbsp;&gt;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">96</span><span class="f_CodeExample" style="color: #000000;">))&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Then</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strOutput&nbsp;=&nbsp;strOutput&nbsp;&amp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Chr</span><span class="f_CodeExample" style="color: #000000;">(intAscii)&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Else</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">If</span><span class="f_CodeExample" style="color: #000000;">&nbsp;intAscii&nbsp;&lt;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">16</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Then</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strOutput&nbsp;=&nbsp;strOutput&nbsp;&amp;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"%0"</span><span class="f_CodeExample" style="color: #000000;">&nbsp;&amp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Trim</span><span class="f_CodeExample" style="color: #000000;">(</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Hex</span><span class="f_CodeExample" style="color: #000000;">(intAscii))&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Else</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strOutput&nbsp;=&nbsp;strOutput&nbsp;&amp;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"%"</span><span class="f_CodeExample" style="color: #000000;">&nbsp;&amp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Trim</span><span class="f_CodeExample" style="color: #000000;">(</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Hex</span><span class="f_CodeExample" style="color: #000000;">(intAscii))&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">End</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">If</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">End</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">If</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Next</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;URLEncode&nbsp;=&nbsp;strOutput&nbsp;</span><br>
<span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">End</span><span class="f_CodeExample" style="color: #000000;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">Function</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">JAVA example:</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">import</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">java</span><span class="f_CodeExample" style="color: #0000ff;">.</span><span class="f_CodeExample" style="color: #000000;">io</span><span class="f_CodeExample" style="color: #0000ff;">.*;</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">import</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">java</span><span class="f_CodeExample" style="color: #0000ff;">.</span><span class="f_CodeExample" style="color: #000000;">net</span><span class="f_CodeExample" style="color: #0000ff;">.*;</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">class</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">GetUrlContent</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">{</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">public</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">static</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">void</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">main</span><span class="f_CodeExample" style="color: #0000ff;">(</span><span class="f_CodeExample" style="color: #000000;">String</span><span class="f_CodeExample" style="color: #0000ff;">[]</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">args</span><span class="f_CodeExample" style="color: #0000ff;">)</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">throws</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">IOException</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">{</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">String</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">strUrl</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"https://192.168.31.123:5466/admin_webservice.html"</span><span class="f_CodeExample" style="color: #0000ff;">;</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">String</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">strUrlParam</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"admin=AdminUser&amp;pass=AdminPass&amp;cmd="</span><span class="f_CodeExample" style="color: #0000ff;">;</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">String</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">strLuaScript</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"local&nbsp;nSessionCnt&nbsp;=&nbsp;0&nbsp;"</span><span class="f_CodeExample" style="color: #0000ff;">+</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"for&nbsp;_,domain&nbsp;in&nbsp;pairs(c_GetDomainList())&nbsp;do&nbsp;"</span><span class="f_CodeExample" style="color: #0000ff;">+</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"&nbsp;nSessionCnt&nbsp;=&nbsp;nSessionCnt&nbsp;+&nbsp;c_GetSessionCount(domain)&nbsp;"</span><span class="f_CodeExample" style="color: #0000ff;">+</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"end&nbsp;"</span><span class="f_CodeExample" style="color: #0000ff;">+</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"print(nSessionCnt)";</span></p>
<p class="p_CodeExample"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="f_CodeExample" style="color: #0000ff;">&nbsp;String&nbsp;strResult&nbsp;=&nbsp;SendGetRequest(strUrl,&nbsp;strUrlParam+java.net.URLEncoder.encode(strLuaScript,&nbsp;"UTF-8").replaceAll("\\+",&nbsp;"%20"));</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">}</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">public</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">static</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">String</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">SendGetRequest</span><span class="f_CodeExample" style="color: #0000ff;">(</span><span class="f_CodeExample" style="color: #000000;">String</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">url</span><span class="f_CodeExample" style="color: #0000ff;">,</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">String</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">param</span><span class="f_CodeExample" style="color: #0000ff;">)</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">{</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">String</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">result</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #800080;">""</span><span class="f_CodeExample" style="color: #0000ff;">;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">try</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">{</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">String</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">urlName</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">url</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">+</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #800080;">"?"</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">+</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">param</span><span class="f_CodeExample" style="color: #0000ff;">;</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">URL</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">U</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">new</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">URL</span><span class="f_CodeExample" style="color: #0000ff;">(</span><span class="f_CodeExample" style="color: #000000;">urlName</span><span class="f_CodeExample" style="color: #0000ff;">);</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">URLConnection</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">connection</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">U</span><span class="f_CodeExample" style="color: #0000ff;">.</span><span class="f_CodeExample" style="color: #000000;">openConnection</span><span class="f_CodeExample" style="color: #0000ff;">();</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">connection</span><span class="f_CodeExample" style="color: #0000ff;">.</span><span class="f_CodeExample" style="color: #000000;">connect</span><span class="f_CodeExample" style="color: #0000ff;">();</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">BufferedReader</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">in</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">new</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">BufferedReader</span><span class="f_CodeExample" style="color: #0000ff;">(</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">new</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">InputStreamReader</span><span class="f_CodeExample" style="color: #0000ff;">(</span><span class="f_CodeExample" style="color: #000000;">connection</span><span class="f_CodeExample" style="color: #0000ff;">.</span><span class="f_CodeExample" style="color: #000000;">getInputStream</span><span class="f_CodeExample" style="color: #0000ff;">()));</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">String</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">line</span><span class="f_CodeExample" style="color: #0000ff;">;</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">while</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">((</span><span class="f_CodeExample" style="color: #000000;">line</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">in</span><span class="f_CodeExample" style="color: #0000ff;">.</span><span class="f_CodeExample" style="color: #000000;">readLine</span><span class="f_CodeExample" style="color: #0000ff;">())</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">!=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">null</span><span class="f_CodeExample" style="color: #0000ff;">)</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">{</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">result</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">+=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">line</span><span class="f_CodeExample" style="color: #0000ff;">;</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">}</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">in</span><span class="f_CodeExample" style="color: #0000ff;">.</span><span class="f_CodeExample" style="color: #000000;">close</span><span class="f_CodeExample" style="color: #0000ff;">();</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">}</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">catch</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">(</span><span class="f_CodeExample" style="color: #000000;">Exception</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">e</span><span class="f_CodeExample" style="color: #0000ff;">)</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">{</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #000000;">result</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">=</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #800080;">""</span><span class="f_CodeExample" style="color: #0000ff;">;</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">}</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">return</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><span class="f_CodeExample" style="color: #000000;">result</span><span class="f_CodeExample" style="color: #0000ff;">;</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #ffffff;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">}</span><span class="f_CodeExample" style="color: #ffffff;">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #0000ff;">}</span></p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript"> 
<!-- 
var lastSlashPos = document.URL.lastIndexOf("/") >
document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") :
document.URL.lastIndexOf("\\");
if( document.URL.substring( lastSlashPos + 1, lastSlashPos + 4
).toLowerCase() != "~hh" )
{
    nsrInit();
}
--> 
</script> 
</body>
</html>
